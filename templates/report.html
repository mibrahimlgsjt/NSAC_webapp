{% extends 'base.html' %}

{% block content %}
<div class="max-w-2xl mx-auto space-y-6">

    <!-- Critical Section -->
    <div class="glass p-8 rounded-4xl border-2 border-red-400 bg-red-50 text-center shadow-2xl relative overflow-hidden">
        <div class="absolute inset-0 bg-red-100 opacity-20 pointer-events-none animate-pulse"></div>
        <h1 class="text-3xl font-extrabold text-red-600 mb-4 relative z-10">ðŸš¨ EMERGENCY REPORT</h1>
        <p class="text-red-500 font-semibold mb-6 relative z-10">For Hit & Run, Critical Injury, or Immediate Danger</p>
        
        <div class="space-y-4 relative z-10">
            <a href="tel:123456789" class="block w-full bg-red-600 text-white font-bold py-4 rounded-3xl shadow-lg hover:bg-red-700 transition transform hover:scale-105">
                ðŸ“ž CALL EMERGENCY
            </a>
            <a href="https://wa.me/123456789" class="block w-full bg-green-500 text-white font-bold py-4 rounded-3xl shadow-lg hover:bg-green-600 transition transform hover:scale-105 flex items-center justify-center space-x-2">
                <span>ðŸ’¬ WHATSAPP TEAM</span>
            </a>
        </div>
    </div>

    <!-- Minor Section -->
    <div class="glass p-8 rounded-4xl">
        <h2 class="text-2xl font-bold text-gray-700 mb-4">Report Minor Issue</h2>
        <p class="text-gray-500 mb-6">For sickness, minor injuries, or lost animals.</p>
        
        <form x-data="{ 
            submitReport() {
                const formData = new FormData($refs.form);
                fetch('/api/report', {
                    method: 'POST',
                    body: formData
                })
                .then(res => res.json())
                .then(data => {
                    alert(data.message);
                    $refs.form.reset();
                });
            } 
        }" @submit.prevent="submitReport" x-ref="form" class="space-y-4">
            
            <div>
                <label class="block text-gray-700 font-bold mb-2">Issue Type</label>
                <select name="issue_type" class="w-full bg-white/50 border border-gray-200 rounded-2xl p-3 focus:outline-none focus:ring-2 focus:ring-digital-lavender">
                    <option value="Sickness">Sickness</option>
                    <option value="Minor Injury">Minor Injury</option>
                    <option value="Lost Animal">Lost Animal</option>
                    <option value="Other">Other</option>
                </select>
            </div>

            <div>
                <label class="block text-gray-700 font-bold mb-2">Location</label>
                <input type="text" name="location" placeholder="e.g. Near C2 Cafe" class="w-full bg-white/50 border border-gray-200 rounded-2xl p-3 focus:outline-none focus:ring-2 focus:ring-digital-lavender" required>
            </div>

            <div>
                <label class="block text-gray-700 font-bold mb-2">Description</label>
                <textarea name="description" placeholder="Describe the situation..." rows="4" class="w-full bg-white/50 border border-gray-200 rounded-2xl p-3 focus:outline-none focus:ring-2 focus:ring-digital-lavender"></textarea>
            </div>

            <button type="submit" class="w-full bg-digital-lavender text-white font-bold py-4 rounded-3xl shadow-lg hover:bg-purple-600 transition">
                Submit Report
            </button>
        </form>
    </div>

</div>
{% endblock %}
